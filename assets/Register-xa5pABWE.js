import{F as h,r as b,j as s,m as n,q as j,E as P,n as w}from"./index-DpF_DXXf.js";import{u as v,I as l,z as r,t as N}from"./InputForm-tWa2Gawp.js";const S=r.object({email:r.string().email("Invalid email address").nonempty("Email is required"),password:r.string().min(6,"Password must be at least 6 characters").nonempty("Password is required"),confirmPassword:r.string().nonempty("Confirm Password is required")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function q(){var m,c,p;const a=h(),[i,d]=b.useState(!1),{register:t,handleSubmit:g,formState:{errors:e}}=v({resolver:N(S)}),x=async y=>{d(!0);try{const{email:o,password:f}=y,{data:E,error:u}=await P.auth.signUp({email:o,password:f});if(u)throw u;w.success("Account created successfully! Check your email to confirm."),a("/login")}catch(o){w.error(o.message||"Failed to register. Please try again.")}finally{d(!1)}};return s.jsx(n.section,{className:"container mx-auto flex flex-col justify-center items-center min-h-screen px-4 py-8 bg-slate-50",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:s.jsxs("div",{className:"w-full max-w-md bg-white shadow-lg rounded-lg p-8",children:[s.jsx(n.h1,{className:"text-3xl font-extrabold text-center mb-8 text-slate-700",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.8},children:"Register"}),s.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[s.jsx(l,{type:"email",placeholder:"Email",error:(m=e.email)==null?void 0:m.message,"aria-label":"Email","aria-describedby":e.email?"email-error":void 0,...t("email")}),e.email&&s.jsx("span",{id:"email-error",className:"text-red-600",children:e.email.message}),s.jsx(l,{type:"password",placeholder:"Password",error:(c=e.password)==null?void 0:c.message,"aria-label":"Password","aria-describedby":e.password?"password-error":void 0,...t("password")}),e.password&&s.jsx("span",{id:"password-error",className:"text-red-600",children:e.password.message}),s.jsx(l,{type:"password",placeholder:"Confirm Password",error:(p=e.confirmPassword)==null?void 0:p.message,"aria-label":"Confirm Password","aria-describedby":e.confirmPassword?"confirm-password-error":void 0,...t("confirmPassword")}),e.confirmPassword&&s.jsx("span",{id:"confirm-password-error",className:"text-red-600",children:e.confirmPassword.message}),s.jsx("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg text-white ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 transition"}`,disabled:i,children:i?"Registering...":"Register"})]}),s.jsx(n.div,{className:"mt-6 text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2},children:s.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",s.jsx(j,{to:"/login",className:"text-blue-500 font-bold hover:underline",children:"Sign In"})]})})]})})}export{q as default};
